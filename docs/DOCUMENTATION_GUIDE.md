# SmartNotes.ai 文档更新指南

## 概述

本文档规定了SmartNotes.ai项目文档的更新流程和规范，确保所有功能迭代和变更都能及时、准确地记录到文档中。

## 文档结构

### 📁 docs/ 目录结构

```
docs/
├── PRD.md                    # 产品需求文档
├── TDD.md                    # 技术设计文档
├── VERCEL_DEPLOYMENT.md      # Vercel部署指南
├── CHANGELOG.md              # 功能迭代记录
├── SUMMARY.md                # 项目总结文档
├── README.md                 # 文档目录说明
└── DOCUMENTATION_GUIDE.md    # 本文档更新指南
```

## 更新流程

### 1. 功能开发完成后

当完成任何功能开发、修复或改进后，必须更新相关文档：

#### 必须更新的文档

- **CHANGELOG.md** - 记录版本更新
- **SUMMARY.md** - 更新项目总结
- **README.md** - 更新文档版本信息

#### 可选更新的文档

- **TDD.md** - 如有技术架构变更
- **VERCEL_DEPLOYMENT.md** - 如有部署相关变更
- **PRD.md** - 如有需求变更

### 2. 更新步骤

1. **确定版本号**
   - 主版本号：重大架构变更或功能重构
   - 次版本号：新功能添加或重要改进
   - 修订版本号：问题修复或小改进

2. **更新CHANGELOG.md**

   ```markdown
   ### vX.X.X - 版本名称 (日期)

   #### 🆕 新增功能
   - 功能描述

   #### 🔧 技术改进
   - 改进描述

   #### 🐛 问题修复
   - 修复描述

   #### 📚 文档更新
   - 文档描述
   ```

3. **更新SUMMARY.md**
   - 在"功能迭代记录"部分添加新版本
   - 更新"部署状态"和"下一步行动"

4. **更新README.md**
   - 更新版本号和日期
   - 更新"更新内容"描述

### 3. 提交规范

#### Commit Message格式

```
docs: 更新文档记录vX.X.X版本

- 更新CHANGELOG.md记录新功能
- 更新SUMMARY.md项目总结
- 更新README.md版本信息
- 详细描述：[具体变更内容]
```

#### 示例

```
docs: 更新文档记录v2.3.0版本

- 更新CHANGELOG.md记录迭代功能增强
- 更新SUMMARY.md添加v2.3.0迭代记录
- 更新README.md版本信息到v2.3.0
- 详细描述：为所有AI功能添加迭代优化能力，改进用户界面和体验
```

## 文档规范

### 1. CHANGELOG.md规范

- 使用表情符号分类（🆕🔧🐛📚🚀）
- 按时间倒序排列（最新版本在前）
- 详细描述技术改进和功能变化
- 包含版本号、日期和分类标签

### 2. SUMMARY.md规范

- 保持项目总结的完整性
- 及时更新功能迭代记录
- 反映当前项目状态
- 包含部署状态和下一步计划

### 3. README.md规范

- 保持文档目录的准确性
- 及时更新版本信息
- 提供清晰的导航链接
- 包含联系方式和贡献指南

## 自动化建议

### 1. Git Hooks

可以设置pre-commit hook检查文档更新：

```bash
#!/bin/sh
# .git/hooks/pre-commit

# 检查是否有功能变更但未更新CHANGELOG.md
if git diff --cached --name-only | grep -E '\.(ts|tsx|js|jsx)$' > /dev/null; then
    if ! git diff --cached --name-only | grep -q 'CHANGELOG.md'; then
        echo "警告: 检测到代码变更但未更新CHANGELOG.md"
        echo "请确保更新文档记录功能变更"
    fi
fi
```

### 2. 版本号管理

建议使用语义化版本号：

- **MAJOR**: 不兼容的API变更
- **MINOR**: 向后兼容的功能新增
- **PATCH**: 向后兼容的问题修复

### 3. 文档模板

为常见更新创建模板：

#### 新功能模板

```markdown
### vX.X.X - 功能名称 (日期)

#### 🆕 新增功能
- [功能描述]

#### 🔧 技术改进
- [技术改进描述]

#### 📚 文档更新
- 更新相关文档
```

#### 修复模板

```markdown
### vX.X.X - 问题修复 (日期)

#### 🐛 问题修复
- [修复描述]

#### 🔧 技术改进
- [改进描述]
```

## 检查清单

### 功能开发完成后检查

- [ ] 更新CHANGELOG.md添加新版本
- [ ] 更新SUMMARY.md功能迭代记录
- [ ] 更新README.md版本信息
- [ ] 检查所有文档链接有效性
- [ ] 确认版本号格式正确
- [ ] 提交时使用规范的commit message

### 文档质量检查

- [ ] 内容准确完整
- [ ] 格式一致统一
- [ ] 链接正确有效
- [ ] 版本号递增
- [ ] 日期格式正确
- [ ] 分类标签使用表情符号

## 团队协作

### 1. 文档负责人

指定文档负责人负责：

- 维护文档更新流程
- 检查文档质量
- 协调团队文档更新

### 2. 审查流程

重要文档更新应经过：

- 开发者自检
- 文档负责人审查
- 技术负责人确认

### 3. 培训

定期培训团队成员：

- 文档更新流程
- 规范要求
- 工具使用

## 工具推荐

### 1. 文档生成工具

- **JSDoc**: 自动生成API文档
- **TypeDoc**: TypeScript文档生成
- **Docusaurus**: 静态站点生成

### 2. 版本管理工具

- **standard-version**: 自动生成CHANGELOG
- **conventional-changelog**: 基于commit生成changelog
- **semantic-release**: 自动化版本发布

### 3. 文档检查工具

- **markdownlint**: Markdown格式检查
- **textlint**: 文本质量检查
- **linkcheck**: 链接有效性检查

## 总结

通过建立规范的文档更新流程，确保SmartNotes.ai项目的所有功能迭代和变更都能及时、准确地记录到文档中。这不仅有助于项目维护，也为团队成员和用户提供了清晰的项目发展历史。

**记住：好的文档是项目成功的重要组成部分！**

---

*最后更新: 2025-09-17*
